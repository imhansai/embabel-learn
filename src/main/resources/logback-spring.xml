<?xml version="1.0" encoding="UTF-8" ?>
<configuration scan="true" scanPeriod="1000">
    <!-- scan 当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true。（这个功能可以在不重启运行环境下，调整打印日志的细节，方便定位问题） -->
    <!-- scanPeriod 设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。 -->
    <!-- 级别排序为： TRACE < DEBUG < INFO < WARN < ERROR -->

    <!-- 彩色日志依赖的渲染类 -->
    <conversionRule conversionWord="clr" class="org.springframework.boot.logging.logback.ColorConverter"/>
    <conversionRule conversionWord="wex"
                    class="org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter"/>
    <conversionRule conversionWord="wEx"
                    class="org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter"/>

    <!-- 输出到控制台 -->
    <property name="CONSOLE_LOG_PATTERN"
              value="%clr(%d{yyyy-MM-dd'T'HH:mm:ss.SSSXXX}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.50t]) %cyan(at %class.%method) (%file:%line\) %n %clr(>>>) %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}">
    </property>

    <!-- 控制台 appender -->
    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>${CONSOLE_LOG_PATTERN}</pattern>
        </encoder>
    </appender>

    <logger name="dev.fromnowon" level="debug"/>
    <!-- <logger name="com.embabel.agent" level="debug"/> -->

    <springProfile name="default">
        <root level="info">
            <appender-ref ref="console"/>
        </root>
    </springProfile>

</configuration>
